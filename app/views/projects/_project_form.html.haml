= form_for @project, :html => {:autocomplete => "off"} do |f|
  %div.flex.grow
    %div
      = f.label :tile, 'Title: '
      = f.text_field :title
    %div
      = f.label :priority, 'Priority: '
      = f.collection_select(:priority_id, Priority.all, :id, :text.to_s)
    %div
      = f.label :status_id, 'Status: '
      = f.collection_select(:status_id, Status.all, :id, :text.to_s)
    %div
      - search_html f, :project, :customer, "Customer: ", {:path => customers_path, :input => :customer_name}, :customer_name, @project.customer_name 
    %div
      = f.label :goal, 'Goal: '
      = f.text_field :goal
    %div
      = f.label :started, 'Date started: '
      = f.date_select :started
    %div
      = f.label :soft_deadline, 'Soft Deadline: '
      = f.date_select :soft_deadline
  %hr
  %div.flex.three
    %div.no_wrap
      = f.label :notes, 'Pisces Notes: '
      = f.text_area :notes
      = render :partial => 'settings/notes_cheat_sheet'
    %div
      = f.label :customer_notes, 'Customer Notes: '
      = f.text_area :customer_notes
    %div
      = f.label :stumbling_blocks, 'Potential Stumbling Blocks: '
      = f.text_area :stumbling_blocks
  %hr
  %div.flex.two
    %div
      %b
        Links
      %br
      = f.fields_for :project_links do |ff|
        %div.flex
          = render :partial => 'project_links/edit_link', :object => ff
    %div
      %b
        Steps
      %br
      = render :partial => "steps/edit_step", :object => f
  %hr
  %div.flex.two
    %div
      %b
        Communications
      %br
      = f.fields_for :communications do |ff|
        %div.flex
          = render :partial => 'communications/communication', :object => ff, locals: {:project => @project}
    %div
      %b
        Contacts
      %br
      = f.fields_for :contacts do |ff|
        %div.flex.two
          = render :partial => 'contacts/edit_contact', :object => ff 
  %hr
  = f.submit 'Submit'
  \|
  = link_to 'Cancel', @project
  \|
  = link_to 'Destroy Project', @project, :method => :delete, :data => { :confirm => 'Are you sure?' }
